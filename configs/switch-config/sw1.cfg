enable
configure terminal
hostname SW-1

! --- 1. Create VLANs ---
vlan 10
name DATA_USERS
vlan 20
name PRINTERS
vlan 99
name MANAGEMENT

! --- 2. Configure SVIs (Default Gateways) ---
ip routing  ! Activates Layer 3 routing

interface Vlan10
description ** Default Gateway for DATA VLAN **
ip address 192.168.10.1 255.255.255.0
no shutdown

interface Vlan20
description ** Default Gateway for PRINTER VLAN **
ip address 192.168.20.1 255.255.255.0
no shutdown

interface Vlan99
description ** Default Gateway for MGMT VLAN (HSRP Virtual IP Base) **
ip address 192.168.99.1 255.255.255.0
no shutdown

! --- 3. Configure Static Route to Internet ---
! Traffic leaving the network is directed to the HSRP Virtual IP (192.168.99.254)
ip route 0.0.0.0 0.0.0.0 192.168.99.254

! --- 4. Configure Router Link (R1 G0/0/1 to SW1 G0/1) ---
! This link carries HSRP and NAT traffic in VLAN 99.
interface GigabitEthernet0/1
description ** Link to Router R1 - MGMT V99 Access **
switchport mode access
switchport access vlan 99
no shutdown

! --- 5. Configure Inter-Switch Trunk Link (SW1 G0/2 to SW2 G0/2) ---
interface GigabitEthernet0/2
description ** TRUNK to SW-2 **
switchport trunk encapsulation dot1q
switchport mode trunk
switchport trunk allowed vlan 10,20,99
no shutdown

! --- 6. Configure Access Ports for End Devices ---
! F0/1 -> AP-1 (V99)
interface FastEthernet0/1
description ** AP-1 Management (Wireless Router) **
switchport mode access
switchport access vlan 10
no shutdown

! F0/2 -> AP-2 (V99)
interface FastEthernet0/2
description ** AP-2 Management (Wireless Router) **
switchport mode access
switchport access vlan 10
no shutdown

! F0/3 -> Printer-P1 (V20)
interface FastEthernet0/3
description ** Printer-P1 **
switchport mode access
switchport access vlan 20
no shutdown

! F0/4 -> PC-1 (V10)
interface FastEthernet0/4
description ** PC-1 **
switchport mode access
switchport access vlan 10
no shutdown

SW-1# configure terminal

! Exclude the gateway and router HSRP IPs from the DHCP pool
ip dhcp excluded-address 192.168.10.1 192.168.10.10  ! Reserve .1 to .10 for static hosts/future use

! Define the DHCP pool for VLAN 10 (Data Users)
ip dhcp pool VLAN-10-USERS
 network 192.168.10.0 255.255.255.0
 default-router 192.168.10.1  ! SW-1's SVI
 dns-server 8.8.8.8  ! Placeholder public DNS server

end

write
